<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aequitas - Prompt Engineering Workshop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f5f5f4; color: #1c1917; }
        
        /* Chart Container */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 200px;
        }

        /* Utility */
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .step-badge {
            background-color: #ea580c;
            color: white;
            font-weight: bold;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            margin-right: 0.75rem;
            flex-shrink: 0;
        }

        /* --- STANDARDISIERTE BOXEN --- */

        /* 1. Aufgabe & Ziel (Blau) */
        .box-task {
            background-color: #f0f9ff; /* sky-50 */
            border-left: 4px solid #0284c7; /* sky-600 */
            padding: 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }
        .label-task {
            font-weight: 800;
            color: #0369a1; /* sky-700 */
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            display: block;
        }

        /* 2. Prompt / Idee (Grau/Code) */
        .box-prompt {
            background-color: #fafaf9; /* stone-50 */
            border: 1px solid #e7e5e4; /* stone-200 */
            border-radius: 0.75rem;
            padding: 0; /* Inner padding handled by children */
            margin-bottom: 1.5rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        .box-prompt-header {
            background-color: #f5f5f4; /* stone-100 */
            padding: 0.5rem 1rem;
            border-bottom: 1px solid #e7e5e4;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        .box-prompt-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: nowrap;
            align-items: center;
        }
        .label-prompt {
            font-weight: 700;
            color: #57534e; /* stone-600 */
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .box-prompt-content {
            padding: 1rem;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.875rem;
            color: #44403c; /* stone-700 */
            white-space: normal;
            line-height: 1.6;
        }
        .box-prompt-content pre {
            white-space: pre-wrap;
            word-break: break-word;
            overflow-wrap: anywhere;
        }
        .prompt-single {
            margin: 0;
            padding: 0.5rem 0.75rem;
            background-color: #fff;
            border: 1px solid #e7e5e4;
            border-radius: 0.5rem;
            line-height: 1.5;
            white-space: pre-wrap;
            word-break: break-word;
            overflow-wrap: anywhere;
        }
        
        /* Buttons */
        .btn-copy {
            background-color: white;
            border: 1px solid #d6d3d1;
            color: #57534e;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        .btn-copy:hover {
            background-color: #f5f5f4;
            color: #ea580c;
            border-color: #fdba74;
        }
        .btn-copy.copied {
            background-color: #16a34a;
            border-color: #15803d;
            color: #fff;
        }
        .btn-copy:disabled {
            opacity: 0.65;
            cursor: default;
        }

        .btn-openwebui {
            background-color: #ea580c; /* orange-600 */
            border: 1px solid #ea580c;
            color: white;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            text-decoration: none;
        }
        .btn-openwebui:hover {
            background-color: #c2410c; /* orange-700 */
            border-color: #c2410c;
        }

        /* 3. Reflektion (Gr√ºn) */
        .box-reflection {
            background-color: #f0fdf4; /* green-50 */
            border-left: 4px solid #16a34a; /* green-600 */
            padding: 1.25rem;
            margin-top: 2rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }
        .label-reflection {
            font-weight: 800;
            color: #15803d; /* green-700 */
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Cheat Sheet Box */
        .cs-box {
            border-left: 4px solid #ea580c;
            background-color: #fff7ed;
            padding: 1rem;
            border-radius: 0 0.5rem 0.5rem 0;
            margin-bottom: 1rem;
        }
        .cs-title {
            font-weight: bold;
            color: #9a3412;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }

        /* Theme cards */
        .theme-grid {
            display: grid;
            gap: 1rem;
        }
        @media (min-width: 768px) {
            .theme-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }
        .theme-card {
            border: 1px solid #e7e5e4;
            border-radius: 0.75rem;
            padding: 0.75rem 1rem;
            background-color: #fff;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        .theme-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.5rem;
        }
        .theme-badge {
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #ea580c;
        }
        .theme-card pre {
            margin: 0;
            font-size: 0.8rem;
            line-height: 1.5;
            background-color: #fafaf9;
            border: 1px solid #e7e5e4;
            border-radius: 0.5rem;
            padding: 0.75rem;
            white-space: pre-wrap;
        }
        .theme-card-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .print-only {
            display: none;
        }

        .exercise-section {
            position: relative;
        }

        @media (max-width: 520px) {
            .box-prompt-actions {
                flex-wrap: wrap;
                justify-content: flex-start;
            }
        }

        @media print {
            nav, .no-print, .screen-only {
                display: none !important;
            }
            .print-only {
                display: block !important;
            }
            body {
                background-color: #fff;
                color: #000;
                font-size: 11px;
                line-height: 1.4;
            }
            main {
                padding: 0 !important;
            }
            section {
                padding: 0 !important;
                margin: 0 0 0.5rem 0 !important;
            }
            .box-task, .box-prompt, .box-reflection {
                break-inside: avoid;
                margin-bottom: 0.6rem;
            }
            .box-task, .box-reflection {
                padding: 0.75rem;
            }
            .box-prompt {
                border-radius: 0.25rem;
            }
            .box-prompt-content {
                padding: 0.5rem;
                font-size: 0.75rem;
            }
            .prompt-single {
                padding: 0.35rem 0.5rem;
                font-size: 0.75rem;
            }
            .theme-card {
                padding: 0.5rem;
            }
            .theme-card pre {
                font-size: 0.7rem;
                padding: 0.5rem;
            }
            .theme-card-actions, .box-prompt-actions {
                display: none !important;
            }
            .exercise-section {
                break-before: page;
                page-break-before: always;
                padding-top: 0;
            }
            .exercise-section:first-of-type {
                break-before: auto;
                page-break-before: auto;
            }
            #cheatsheet {
                break-before: page;
                page-break-before: always;
            }
            a[href]:after {
                content: " (" attr(href) ")";
                font-size: 0.7em;
            }
        }
    </style>
</head>
<body class="antialiased selection:bg-orange-200 selection:text-orange-900">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-stone-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-3">
                    <span class="text-2xl">ü§ñ</span>
                    <div class="leading-tight">
                        <span class="font-bold text-xl text-stone-800 tracking-tight block">Aequitas Workshop</span>
                        <span class="text-xs text-stone-500 font-medium">27.11.2025</span>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-6 text-sm">
                    <a href="#scenario-select" class="text-stone-600 hover:text-orange-600 font-medium transition-colors">Start</a>
                    <a href="#ex1" class="text-stone-600 hover:text-orange-600 font-medium transition-colors">√úbung 1</a>
                    <a href="#ex2" class="text-stone-600 hover:text-orange-600 font-medium transition-colors">√úbung 2</a>
                    <a href="#ex3" class="text-stone-600 hover:text-orange-600 font-medium transition-colors">√úbung 3</a>
                    <a href="#ex4" class="text-stone-600 hover:text-orange-600 font-medium transition-colors">√úbung 4</a>
                    <a href="#ex5" class="text-stone-600 hover:text-orange-600 font-medium transition-colors">√úbung 5</a>
                    <a href="#ex6" class="text-stone-600 hover:text-orange-600 font-medium transition-colors">√úbung 6</a>
                    <a href="#ex7" class="text-stone-600 hover:text-orange-600 font-medium transition-colors">√úbung 7</a>
                    <a href="#cheatsheet" class="px-3 py-2 bg-stone-800 text-white rounded hover:bg-stone-700 transition-colors font-bold">Cheat Sheet</a>
                    <button onclick="window.print()" class="px-3 py-2 bg-orange-600 text-white rounded font-bold shadow-sm hover:bg-orange-500 transition-colors no-print">üñ®Ô∏è Drucken</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="bg-white border-b border-stone-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 text-center">
            <h1 class="text-3xl md:text-4xl font-extrabold text-stone-900 mb-4">Aequitas - Prompt Engineering Workshop</h1>
            <div class="max-w-5xl mx-auto bg-stone-50 border border-stone-200 rounded-xl p-6 text-left shadow-sm">
                <h3 class="font-bold text-stone-800 mb-2 flex items-center gap-2">üëã Willkommen zum Workshop</h3>
                <p class="text-stone-600 mb-4 leading-relaxed">
                    Diese Webseite f√ºhrt dich durch die √úbungen des heutigen Tages. Suche dir zu Beginn <strong>einen der vier Themenstr√§nge</strong> aus oder √ºberlege dir ein eigenes Thema f√ºr den heutigen Tag, welches dich beruflich h√§ufig besch√§ftigt.
                </p>
                <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                    <strong class="text-orange-800 block mb-1">Anleitung zur Gruppenarbeit:</strong>
                    <ul class="list-disc list-inside text-stone-700 space-y-1 mb-3">
                        <li>Bildet Gruppen von <strong>2 bis 3 Personen</strong>.</li>
                        <li>Innerhalb der Gruppe k√∂nnt ihr am gleichen Thema arbeiten oder unterschiedliche Szenarien w√§hlen.</li>
                        <li>Du wirst deinen gew√§hlten Themenstrang √ºber mehrere, aufeinander aufbauende √úbungen hinweg bearbeiten.</li>
                    </ul>
                    <p class="text-sm text-stone-600 bg-white p-2 rounded border border-orange-100">
                        üí¨ <strong>Wichtig:</strong> Zu jeder √úbung gibt es <strong>Reflektionsfragen</strong> (gr√ºne Box). Besprecht diese bitte kurz in der Gruppe und teilt die wichtigsten Erkenntnisse anschlie√üend im Plenum.
                    </p>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-16">

        <!-- SETUP: SCENARIO SELECTION -->
        <section id="scenario-select" class="scroll-mt-24">
            <div class="flex items-center mb-6 screen-only">
                <span class="bg-stone-800 text-white px-3 py-1 rounded text-sm font-bold mr-3">SCHRITT 1</span>
                <h2 class="text-2xl font-bold text-stone-800">W√§hle deinen Themenstrang</h2>
            </div>

            <!-- Buttons Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8 screen-only">
                <button onclick="setTheme('sales')" id="btn-sales" class="card-hover bg-white p-5 rounded-xl border-2 border-transparent shadow-sm text-left group">
                    <div class="text-2xl mb-2">üíº Thema 1</div>
                    <h3 class="font-bold text-stone-800">Sales & Strategy</h3>
                    <p class="text-xs text-stone-500 mt-1">Pricing & Wettbewerb</p>
                </button>
                <button onclick="setTheme('recruiting')" id="btn-recruiting" class="card-hover bg-white p-5 rounded-xl border-2 border-transparent shadow-sm text-left group">
                    <div class="text-2xl mb-2">ü§ù Thema 2</div>
                    <h3 class="font-bold text-stone-800">Recruiting & Ops</h3>
                    <p class="text-xs text-stone-500 mt-1">Interne Taskforce</p>
                </button>
                <button onclick="setTheme('pm')" id="btn-pm" class="card-hover bg-white p-5 rounded-xl border-2 border-transparent shadow-sm text-left group">
                    <div class="text-2xl mb-2">üî• Thema 3</div>
                    <h3 class="font-bold text-stone-800">PM & Eskalation</h3>
                    <p class="text-xs text-stone-500 mt-1">Krise & Go-Live</p>
                </button>
                <button onclick="setTheme('tech')" id="btn-tech" class="card-hover bg-white p-5 rounded-xl border-2 border-transparent shadow-sm text-left group">
                    <div class="text-2xl mb-2">üíª Thema 4</div>
                    <h3 class="font-bold text-stone-800">SAP Dev & Basis</h3>
                    <p class="text-xs text-stone-500 mt-1">Performance & Code</p>
                </button>
            </div>

            <!-- Detail Display -->
            <div class="bg-white rounded-xl shadow-lg border border-stone-200 overflow-hidden ring-1 ring-black/5 screen-only" id="context-container">
                <div class="bg-stone-100 px-6 py-4 border-b border-stone-200 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                    <div>
                         <span class="text-xs font-bold text-orange-600 uppercase tracking-wider block mb-1">Dein Szenario</span>
                         <h4 id="scenario-title" class="text-lg font-bold text-stone-800">Bitte Thema w√§hlen...</h4>
                    </div>
                    <button onclick="copyText('scenario-text', this)" class="text-xs bg-white border border-stone-300 hover:bg-stone-50 text-stone-600 px-3 py-2 rounded flex items-center gap-1 transition-colors font-medium whitespace-nowrap no-print">
                        üìã Text kopieren
                    </button>
                </div>
                <div class="p-8 space-y-6">
                    <div>
                        <strong class="block text-stone-700 text-sm mb-2">Die Situation:</strong>
                        <p id="scenario-desc" class="text-stone-600 leading-relaxed">Bitte w√§hle oben einen Themenstrang aus, um die Details zu sehen.</p>
                    </div>
                    
                    <div>
                        <strong class="block text-stone-700 text-sm mb-2">Dein Material (zum Kopieren in die KI):</strong>
                        <div class="bg-stone-900 text-stone-100 p-5 rounded-lg font-mono text-sm overflow-x-auto code-block whitespace-pre-wrap leading-relaxed shadow-inner" id="scenario-text">...</div>
                    </div>
                </div>
            </div>

            <div class="print-only mt-6">
                <h4 class="text-lg font-bold text-stone-700 mb-3">Alle Szenarien im √úberblick</h4>
                <div class="theme-grid" id="scenario-print-grid"></div>
            </div>
        </section>

        <hr class="border-stone-200">

        <div class="flex items-center mb-6">
            <span class="bg-stone-800 text-white px-3 py-1 rounded text-sm font-bold mr-3">SCHRITT 2</span>
            <h2 class="text-2xl font-bold text-stone-800">Arbeite dich jetzt durch die folgenden √úbungen</h2>
        </div>

        <!-- √úBUNG 1 -->
        <section id="ex1" class="scroll-mt-24 exercise-section">
            <div class="bg-white p-8 rounded-2xl border border-stone-200 shadow-sm relative overflow-hidden">
                <div class="absolute top-0 left-0 w-1.5 h-full bg-red-500"></div>
                
                <h3 class="text-2xl font-bold text-stone-800 flex items-center gap-3 mb-6">
                    <span class="step-badge">√úbung 1</span> Der einfache Prompt
                </h3>

                <!-- PART 1: Zero Shot -->
                <div class="mb-12">
                    <h4 class="text-lg font-bold text-stone-700 mb-4 border-b pb-2">Teil 1: Der einfache Prompt (Zero-Shot)</h4>
                    
                    <div class="box-task">
                        <span class="label-task">Ziel & Aufgabe</span>
                        <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Sehen, was die KI ohne viel Anleitung liefert und ein erstes Gef√ºhl f√ºr die Interaktion bekommen.</p>
                        <p class="text-stone-700"><strong>Aufgabe:</strong> Kopiere dein Text-Material (von oben) in das Chatfenster. Stelle darunter eine einfache, direkte Frage oder Anweisung an die KI.</p>
                    </div>

                    <div class="cs-box">
                        <div class="cs-title">‚ö° Cheat Sheet: Zero-Shot</div>
                        <p class="text-sm text-stone-600">Direkte Anweisung ohne Beispiele. Gut f√ºr Wissensfragen, aber oft vage im Format.</p>
                    </div>

                    <div class="box-prompt">
                        <div class="box-prompt-header">
                            <div>
                                <span class="label-prompt">üí° Prompt-Idee (Teil 1)</span>
                                <p class="text-xs text-stone-500">Thema: <span id="prompt-zero-theme">Sales & Strategy</span></p>
                            </div>
                            <div class="box-prompt-actions screen-only">
                                <button onclick="handlePromptAction('zero','open',{includeMaterial:true})" class="btn-openwebui">üöÄ OpenWebUI</button>
                                <button onclick="handlePromptAction('zero','copy',{includeMaterial:true}, this)" class="btn-copy">üìã Kopieren</button>
                            </div>
                        </div>
                        <div class="box-prompt-content">
                            <div class="screen-only">
                                <pre id="prompt-zero-single" class="prompt-single">...</pre>
                            </div>
                            <div class="theme-grid print-only" id="prompt-zero-grid"></div>
                        </div>
                    </div>
                </div>

                <!-- PART 2: Few Shot -->
                <div>
                    <h4 class="text-lg font-bold text-stone-700 mb-4 border-b pb-2">Teil 2: Der Few-Shot-Prompt</h4>
                    
                    <div class="box-task">
                        <span class="label-task">Ziel & Aufgabe</span>
                        <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Die Qualit√§t steuern, indem man der KI Beispiele gibt (zeigen statt nur sagen).</p>
                        <p class="text-stone-700"><strong>Aufgabe:</strong> Nimm deinen einfachen Prompt aus Teil 1 und erweitere ihn um ein oder zwei Beispiele (die "Shots"). Gib der KI ein klares Beispiel f√ºr Input und den perfekten Output.</p>
                    </div>

                    <div class="cs-box">
                        <div class="cs-title">‚ö° Cheat Sheet: Few-Shot</div>
                        <p class="text-sm text-stone-600">Ideal f√ºr formatkonsistente Aufgaben. Muster: <em>"Input A -> Output A. Input B -> Output B. Input Neu -> ?"</em></p>
                    </div>

                    <div class="box-prompt">
                        <div class="box-prompt-header">
                            <div>
                                <span class="label-prompt">üí° Prompt-Idee (Teil 2 - Few-Shot)</span>
                                <p class="text-xs text-stone-500">Thema: <span id="prompt-few-theme">Sales & Strategy</span></p>
                            </div>
                            <div class="box-prompt-actions screen-only">
                                <button onclick="handlePromptAction('few','open',{includeMaterial:true})" class="btn-openwebui">üöÄ OpenWebUI</button>
                                <button onclick="handlePromptAction('few','copy',{includeMaterial:true}, this)" class="btn-copy">üìã Kopieren</button>
                            </div>
                        </div>
                        <div class="box-prompt-content">
                            <div class="screen-only">
                                <pre id="prompt-few-single" class="prompt-single">...</pre>
                            </div>
                            <div class="theme-grid print-only" id="prompt-few-grid"></div>
                        </div>
                    </div>

                    <div class="box-reflection">
                        <span class="label-reflection">üí¨ Reflektionsfragen (Gruppe)</span>
                        <ul class="list-disc list-inside text-sm text-stone-700 space-y-2">
                            <li>Wie stark unterschieden sich die Ergebnisse zwischen deinem ersten, einfachen Prompt und dem Few-Shot-Prompt?</li>
                            <li>In welchen Aspekten war die zweite Antwort (mit Beispiel) besser? (z.B. Format, Tonalit√§t, Inhalt)</li>
                            <li>Wie hat sich der Aufwand ver√§ndert? War es schneller, ein Beispiel zu geben, als die erste Antwort manuell zu korrigieren?</li>
                            <li>Welche wiederkehrende Aufgabe in deiner Abteilung hat ein festes Format, bei der diese "Beispiel-Technik" sofort n√ºtzlich w√§re?</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- √úBUNG 2 -->
        <section id="ex2" class="scroll-mt-24 exercise-section">
            <div class="bg-white p-8 rounded-2xl border border-stone-200 shadow-sm relative overflow-hidden">
                <div class="absolute top-0 left-0 w-1.5 h-full bg-purple-500"></div>
                <h3 class="text-2xl font-bold text-stone-800 mb-6 flex items-center gap-3">
                    <span class="step-badge">√úbung 2</span> Der Persona-Prompt
                </h3>
                
                <div class="box-task">
                    <span class="label-task">Ziel & Aufgabe</span>
                    <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Die Qualit√§t der Antwort durch die Zuweisung einer Rolle drastisch verbessern.</p>
                    <p class="text-stone-700"><strong>Aufgabe:</strong> Nimm deinen Prompt aus √úbung 1 und stelle ihm eine klare <strong>Rolle</strong> voran.</p>
                </div>

                <div class="cs-box">
                    <div class="cs-title">üé≠ Cheat Sheet: Persona Prompting</div>
                    <p class="text-sm text-stone-700">Weise der KI eine Rolle zu (z.B. Beruf, Pers√∂nlichkeit). Dies steuert <strong>Ton, Stil und Fokus</strong>.</p>
                </div>

                <div class="box-prompt">
                    <div class="box-prompt-header">
                        <div>
                            <span class="label-prompt">üí° Prompt-Idee</span>
                            <p class="text-xs text-stone-500">Thema: <span id="prompt-persona-theme">Sales & Strategy</span></p>
                        </div>
                        <div class="box-prompt-actions screen-only">
                            <button onclick="handlePromptAction('persona','open',{includeMaterial:true})" class="btn-openwebui">üöÄ OpenWebUI</button>
                            <button onclick="handlePromptAction('persona','copy',{includeMaterial:true}, this)" class="btn-copy">üìã Kopieren</button>
                        </div>
                    </div>
                    <div class="box-prompt-content">
                        <div class="screen-only">
                            <pre id="prompt-persona-single" class="prompt-single">...</pre>
                        </div>
                        <div class="theme-grid print-only" id="prompt-persona-grid"></div>
                    </div>
                </div>

                <div class="box-reflection">
                    <span class="label-reflection">üí¨ Reflektionsfragen (Gruppe)</span>
                    <ul class="list-disc list-inside text-sm text-stone-700 space-y-2">
                        <li>Was war die auff√§lligste Ver√§nderung in der KI-Antwort, nachdem du eine Rolle zugewiesen hast?</li>
                        <li>Welche Persona hat f√ºr dein spezifisches Thema das beste Ergebnis geliefert und warum?</li>
                        <li>Kannst du dir eine Situation vorstellen, in der die Wahl einer falschen Persona zu einem problematischen Ergebnis f√ºhrt?</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- √úBUNG 3 -->
        <section id="ex3" class="scroll-mt-24 exercise-section">
            <div class="bg-white p-8 rounded-2xl shadow-sm border border-stone-200 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-1.5 h-full bg-blue-500"></div>
                <h3 class="text-2xl font-bold text-stone-800 mb-6 flex items-center gap-2">
                    <span class="step-badge">√úbung 3</span> Chain-of-Thought (CoT)
                </h3>
                
                <div class="box-task">
                    <span class="label-task">Ziel & Aufgabe</span>
                    <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Komplexe Aufgaben mit CoT l√∂sen und iterativ verbessern.</p>
                    <p class="text-stone-700 mb-2"><strong>Aufgabe 1 (CoT):</strong> Formuliere einen Prompt, der die KI anweist, dein Problem <strong>Schritt f√ºr Schritt</strong> zu analysieren.</p>
                    <p class="text-stone-700"><strong>Aufgabe 2 (Iteration):</strong> Analysiere die Antwort. Ist sie perfekt? Formuliere eine pr√§zise Folge-Anweisung.</p>
                </div>

                <div class="cs-box">
                    <div class="cs-title">üîó Cheat Sheet: Chain-of-Thought</div>
                    <p class="text-sm text-stone-700">Fordere die KI auf, "Schritt f√ºr Schritt" vorzugehen. Wichtig f√ºr komplexe Logik.</p>
                </div>

                <div class="space-y-6">
                    <div class="box-prompt">
                        <div class="box-prompt-header">
                            <div>
                                <span class="label-prompt">üí° Schritt 1: CoT Analyse</span>
                                <p class="text-xs text-stone-500">Thema: <span id="cot-theme">Sales & Strategy</span></p>
                            </div>
                            <div class="box-prompt-actions screen-only">
                                <button onclick="handlePromptAction('cot','open',{includeMaterial:true})" class="btn-openwebui">üöÄ OpenWebUI</button>
                                <button onclick="handlePromptAction('cot','copy',{includeMaterial:true}, this)" class="btn-copy">üìã Kopieren</button>
                            </div>
                        </div>
                        <div class="box-prompt-content">
                            <div class="screen-only">
                                <pre id="cot-single" class="prompt-single">...</pre>
                            </div>
                            <div class="theme-grid print-only" id="cot-grid"></div>
                        </div>
                    </div>

                    <div class="box-prompt">
                        <div class="box-prompt-header">
                            <div>
                                <span class="label-prompt">üí° Schritt 2: Iteration (Folge-Prompt)</span>
                                <p class="text-xs text-stone-500">Thema: <span id="iteration-theme">Sales & Strategy</span></p>
                            </div>
                            <div class="box-prompt-actions screen-only">
                                <button onclick="handlePromptAction('iteration','copy',{includeMaterial:true}, this)" class="btn-copy">üìã Kopieren</button>
                            </div>
                        </div>
                        <div class="box-prompt-content">
                            <div class="screen-only">
                                <pre id="iteration-single" class="prompt-single">...</pre>
                            </div>
                            <div class="theme-grid print-only" id="iteration-grid"></div>
                        </div>
                    </div>
                </div>

                <div class="box-reflection">
                    <span class="label-reflection">üí¨ Reflektionsfragen (Gruppe)</span>
                    <ul class="list-disc list-inside text-sm text-stone-700 space-y-2">
                        <li>Hat die "Schritt-f√ºr-Schritt"-Anweisung zu einer besser strukturierten Antwort gef√ºhrt?</li>
                        <li>Wie viele "Runden" (Iterationen) hast du gebraucht, um mit dem Ergebnis zufrieden zu sein?</li>
                        <li>Was lernen wir daraus: Ist KI eher ein Werkzeug, das man anweist, oder ein Assistent, mit dem man zusammenarbeitet?</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- √úBUNG 4 -->
        <section id="ex4" class="scroll-mt-24 exercise-section">
            <div class="bg-white p-8 rounded-2xl shadow-sm border border-stone-200 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-1.5 h-full bg-stone-700"></div>
                <h3 class="text-2xl font-bold text-stone-800 mb-6 flex items-center gap-2">
                    <span class="step-badge">√úbung 4</span> Wissen bereitstellen (Grounding)
                </h3>

                <div class="box-task">
                    <span class="label-task">Ziel & Aufgabe</span>
                    <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Halluzinationen vermeiden. Die KI soll ihre Antwort <strong>nur</strong> auf deinen Text st√ºtzen.</p>
                    <p class="text-stone-700"><strong>Aufgabe:</strong> Kopiere dein Text-Material erneut. Formuliere eine Frage, die sich <strong>direkt</strong> darauf bezieht. Weise die KI an, ausschlie√ülich diese Quelle zu verwenden.</p>
                </div>

                <div class="box-prompt">
                    <div class="box-prompt-header">
                        <div>
                            <span class="label-prompt">üí° Prompt-Idee (Grounding)</span>
                            <p class="text-xs text-stone-500">Thema: <span id="grounding-theme">Sales & Strategy</span></p>
                        </div>
                        <div class="box-prompt-actions screen-only">
                            <button onclick="handlePromptAction('grounding','open',{includeMaterial:true})" class="btn-openwebui">üöÄ OpenWebUI</button>
                            <button onclick="handlePromptAction('grounding','copy',{includeMaterial:true}, this)" class="btn-copy">üìã Kopieren</button>
                        </div>
                    </div>
                    <div class="box-prompt-content">
                        <div class="screen-only">
                            <pre id="grounding-single" class="prompt-single">...</pre>
                        </div>
                        <div class="theme-grid print-only" id="grounding-grid"></div>
                    </div>
                </div>

                <div class="box-reflection">
                    <span class="label-reflection">üí¨ Reflektionsfragen (Gruppe)</span>
                    <ul class="list-disc list-inside text-sm text-stone-700 space-y-2">
                        <li>Hat die KI die Antwort korrekt und ohne zus√§tzliche Informationen im bereitgestellten Text gefunden?</li>
                        <li>Warum ist "ausschlie√ülich basierend auf" so entscheidend bei sensiblen Berichten oder internen Daten?</li>
                        <li>Welche neuen M√∂glichkeiten er√∂ffnet diese Technik (z.B. Zusammenfassungen langer Berichte, Richtlinien-Abfragen)?</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- √úBUNG 5 -->
        <section id="ex5" class="scroll-mt-24 space-y-10 exercise-section">
            <!-- Part 1: Builder -->
            <div class="bg-white p-8 rounded-2xl border border-stone-200 shadow-sm relative overflow-hidden">
                <div class="absolute top-0 left-0 w-1.5 h-full bg-orange-500"></div>
                <h3 class="text-2xl font-bold text-stone-800 mb-6 flex items-center gap-3">
                    <span class="step-badge">√úbung 5</span> K.R.A.F.T.
                </h3>

                <div class="box-task">
                    <span class="label-task">Ziel & Aufgabe (Teil 1)</span>
                    <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Einen vollst√§ndigen Power-Prompt erstellen, der ein <strong>konkretes Ausgabeformat</strong> erzwingt.</p>
                    <p class="text-stone-700"><strong>Aufgabe:</strong> Baue deinen Prompt aus √úbung 3 zu einem vollst√§ndigen K.R.A.F.T.-Prompt aus.</p>
                </div>

                <div class="cs-box mb-6">
                    <div class="cs-title">üèóÔ∏è Framework Checkliste</div>
                    <div class="grid grid-cols-5 gap-2 text-center text-xs font-bold text-stone-700">
                        <div class="bg-white p-2 rounded border border-stone-200">[K]ontext</div>
                        <div class="bg-white p-2 rounded border border-stone-200">[R]olle</div>
                        <div class="bg-white p-2 rounded border border-stone-200">[A]ufgabe</div>
                        <div class="bg-white p-2 rounded border border-stone-200">[F]ormat</div>
                        <div class="bg-white p-2 rounded border border-stone-200">[T]on</div>
                    </div>
                </div>

                <div class="screen-only bg-stone-50 border border-stone-200 rounded-xl p-6 mb-6">
                    <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4">
                        <div>
                            <p class="text-xs uppercase tracking-wide text-stone-500 font-bold">Aktuelles Thema</p>
                            <p class="text-base font-semibold text-stone-800" id="kraft-theme-label">...</p>
                        </div>
                        <div class="flex gap-2 flex-wrap">
                            <button onclick="openKraftPrompt(currentTheme)" class="btn-openwebui">üöÄ OpenWebUI</button>
                            <button onclick="copyKraftPrompt(currentTheme, this)" class="btn-copy">üìã Kopieren</button>
                        </div>
                    </div>
                    <dl class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div>
                            <dt class="font-bold text-stone-600">[K] Kontext</dt>
                            <dd class="text-stone-900" id="kraft-k">...</dd>
                        </div>
                        <div>
                            <dt class="font-bold text-stone-600">[R] Rolle</dt>
                            <dd class="text-stone-900" id="kraft-r">...</dd>
                        </div>
                        <div>
                            <dt class="font-bold text-stone-600">[A] Aufgabe</dt>
                            <dd class="text-stone-900" id="kraft-a">...</dd>
                        </div>
                        <div>
                            <dt class="font-bold text-stone-600">[F] Format</dt>
                            <dd class="text-stone-900" id="kraft-f">...</dd>
                        </div>
                        <div class="md:col-span-2">
                            <dt class="font-bold text-stone-600">[T] Ton</dt>
                            <dd class="text-stone-900" id="kraft-t">...</dd>
                        </div>
                    </dl>
                </div>

                <p class="text-sm text-stone-500 mb-2 print-only">K.R.A.F.T.-Prompts f√ºr alle Themenstr√§nge</p>
                <div class="theme-grid mb-12 print-only" id="kraft-grid"></div>

                <!-- Teil 2: Optimizer -->
                <div class="border-t border-stone-200 pt-8 mt-8">
                    <h4 class="text-lg font-bold text-stone-700 mb-4">Teil 2: Metaprompting (Optimizer)</h4>
                    
                    <div class="box-task">
                        <span class="label-task">Ziel & Aufgabe</span>
                        <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Einen K.R.A.F.T Prompt mit Metaprompting automatisch erstellen und verbessern lassen.</p>
                        <p class="text-stone-700"><strong>Aufgabe:</strong> Nutze den Prompt Optimizer unten, um aus deinem Prompt aus √úbung 3 einen perfekten K.R.A.F.T. Prompt zu entwickeln.</p>
                    </div>

                                        <div class="box-prompt">
                        <div class="box-prompt-header">
                            <span class="label-prompt">üõ†Ô∏è Prompt Optimizer (Meta-Prompt)</span>
                            <div class="box-prompt-actions screen-only">
                                <!-- OpenWebUI button removed for Optimizer -->
                                <button onclick="copyText('optimizer-text', this)" class="btn-copy">üìã Kopieren</button>
                            </div>
                        </div>
                                                <div class="box-prompt-content">
                                                        <pre id="optimizer-text" class="prompt-single">**ROLE:** Du agierst als Senior Prompt-Engineering-Experte mit tiefgreifender Erfahrung in den Frameworks K.R.A.F.T., Chain-of-Thought und Few-Shot-Techniken sowie der Erstellung von Bewertungsrubriken. Deine Aufgabe ist es, Prompts systematisch zu analysieren und zu verbessern.

**AUFGABE:** Analysiere und verbessere den untenstehenden `INPUT_PROMPT` methodisch. Deine Antwort muss exakt den folgenden Schritten und Formatierungsvorgaben entsprechen.

**SCHRITTE (Strukturiere deine Antwort exakt nach diesen nummerierten Punkten):**

**1) KURZZUSAMMENFASSUNG** Fasse den Zweck des `INPUT_PROMPT` in maximal 25 W√∂rtern zusammen.

**2) DIAGNOSTIK**

- **2.1) Schw√§chen:** Identifiziere Schw√§chen in den Kategorien: `Klarheit`, `Kontext`, `Struktur`, `Spezifit√§t`, `Format`. Gib pro Kategorie 1-3 konkrete Stichpunkte an.
- **2.2) Bewertungsrubrik:** Bewerte den `INPUT_PROMPT` auf einer Skala von 0 (mangelhaft) bis 5 (exzellent) f√ºr die folgenden Kriterien. Begr√ºnde jede Bewertung in einem Satz.
    - Klarheit:
    - Kontext:
    - Struktur:
    - Spezifit√§t:
    - Erfolgskriterien:

**3) KONKRETE VERBESSERUNGSMASSNAHMEN** Leite aus jeder in Schritt 2.1 identifizierten Schw√§che 1-2 klare, umsetzbare Handlungsempfehlungen ab (z.B. "F√ºge ein Negativbeispiel hinzu", "Definiere das Zielpublikum explizit").

**4) K.R.A.F.T.-OPTIMIERTE HAUPTVERSION** Formuliere den Prompt vollst√§ndig nach dem K.R.A.F.T.-Framework neu. F√ºlle jedes Feld klar und pr√§gnant aus.

- **K (Kontext):** [Hintergrundinformationen, die die KI ben√∂tigt, um die Situation zu verstehen]
- **R (Rolle):** [Die zugewiesene Persona oder der Experte, der die KI sein soll]
- **A (Aufgabe):** [Die genaue, unmissverst√§ndliche T√§tigkeit, die die KI ausf√ºhren soll]
- **F (Format):** [Genaue Vorgaben f√ºr die Struktur der Ausgabe, z.B. "Stichpunktliste mit drei Punkten", "E-Mail mit Betreff und Anrede"]
- **T (Ton):** [Der sprachliche und emotionale Tonfall der Antwort, z.B. "professionell", "sachlich", "beruhigend"]

**5) DREI PRODUKTIONSFERTIGE VARIANTEN** Generiere drei sofort kopier- und nutzbare Versionen des optimierten Prompts. Formatiere die Varianten als Markdown innerhalb von Codebl√∂cken mit √úberschriften √ºber den Bl√∂cken. Achte auf richtige Formatierung und Zeilenumbr√ºche.

- **5a) Schnellfix:** Eine extrem kompakte Version (1-2 S√§tze), die die wichtigste Verbesserung umsetzt.
- **5b) Produktiv:** Die ausf√ºhrliche, robuste Hauptversion, bereit f√ºr den direkten Einsatz. Basiert auf der K.R.A.F.T.-Version.
- **5c) Lehrbuchversion:** Eine Version mit Kommentaren, die erkl√§rt, warum bestimmte Teile des Prompts wichtig sind. (Achte auf eine verst√§ndliche Formatierung)

**6) √ÑNDERUNGEN** Liste die wichtigsten √Ñnderungen zwischen dem `INPUT_PROMPT` und der "Produktiv"-Variante (5b) auf.

- **Entfernt:** [Elemente, die gel√∂scht wurden]
- **Hinzugef√ºgt:** [Elemente, die neu sind]
- **Umformuliert:** [Elemente, die pr√§zisiert oder neu formuliert wurden]

**7) QUALIT√ÑTS-SCORE URSPRUNG** Bewerte die "Ursprungs"-Version auf einer Skala von 1-10 und begr√ºnde den Score kurz (1-2 S√§tze).

**8) QUALIT√ÑTS-SCORE VERSION PRODUKTIV** Bewerte die "Produktiv"-Version (5b) auf einer Skala von 1-10 und begr√ºnde den Score kurz (1-2 S√§tze).

**9) ANNAHMEN** Falls im `INPUT_PROMPT` kritische Informationen fehlten, die du f√ºr die Optimierung erg√§nzen musstest, liste hier die Annahmen auf, die du getroffen hast. Markiere sie als `[Annahme]`.

**VORGABEN F√úR DEINE ANTWORT:**

- Halte dich strikt an die vorgegebene Nummerierung und Struktur.
- Stelle keine R√ºckfragen an den Nutzer. Triff stattdessen fundierte Annahmen und deklariere sie unter Punkt 9.
- Die Ausgabesprache entspricht der Sprache des `INPUT_PROMPT`. Ist keine Sprache erkennbar, verwende Deutsch.

**INPUT_PROMPT:**
[HIER DEINEN PROMPT EINF√úGEN]</pre>
                                                </div>
                    </div>
                </div>

                <div class="box-reflection">
                    <span class="label-reflection">üí¨ Reflektionsfragen (Gruppe)</span>
                    <ul class="list-disc list-inside text-sm text-stone-700 space-y-2">
                        <li>Wie hat die Nutzung der K.R.A.F.T.-Struktur deinen Denkprozess ver√§ndert?</li>
                        <li>Welcher der f√ºnf K.R.A.F.T.-Buchstaben hatte den gr√∂√üten positiven Einfluss auf das Ergebnis?</li>
                        <li>Wie k√∂nnte ein Werkzeug wie der "Prompt Optimizer" helfen, die Qualit√§t langfristig zu sichern?</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- √úBUNG 6 -->
        <section id="ex6" class="scroll-mt-24 exercise-section">
            <div class="bg-white p-8 rounded-2xl border border-stone-200 shadow-sm relative overflow-hidden">
                <div class="absolute top-0 left-0 w-1.5 h-full bg-teal-500"></div>
                <h3 class="text-xl font-bold text-stone-800 mb-6 flex items-center gap-2">
                    <span class="step-badge">√úbung 6</span> Die Kraft der Bilder
                </h3>

                <div class="box-task">
                    <span class="label-task">Ziel & Aufgabe</span>
                    <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Lernen, wie man abstrakte Business-Themen in konkrete, visuelle Anweisungen √ºbersetzt.</p>
                    <p class="text-stone-700"><strong>Aufgabe:</strong> Entwickle f√ºr deinen Themenstrang einen detaillierten Bild-Prompt, der die Kernbotschaft visuell auf den Punkt bringt.</p>
                </div>
                
                <!-- Special Visual Prompt Box -->
                <div class="bg-stone-50 border border-stone-200 rounded-xl overflow-hidden mb-6">
                    <div class="bg-stone-100 px-4 py-2 border-b border-stone-200 flex justify-between items-center">
                        <span class="label-prompt mb-0">üé® Bild-Prompts</span>
                        <div class="box-prompt-actions screen-only">
                            <button onclick="openImagePrompt(currentTheme)" class="btn-openwebui">üöÄ OpenWebUI</button>
                            <button onclick="copyImagePrompt(currentTheme, this)" class="btn-copy">üìã Kopieren</button>
                        </div>
                    </div>
                    <div class="p-4 space-y-4">
                        <div class="screen-only grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <span class="text-xs uppercase tracking-wide text-stone-500 font-bold block mb-1">Ziel</span>
                                <p class="text-stone-900 font-medium text-sm" id="img-ziel">...</p>
                            </div>
                            <div>
                                <span class="text-xs uppercase tracking-wide text-stone-500 font-bold block mb-1">Hauptmotiv</span>
                                <p class="text-stone-900 font-medium" id="img-motiv">...</p>
                            </div>
                            <div>
                                <span class="text-xs uppercase tracking-wide text-stone-500 font-bold block mb-1">Handlung</span>
                                <p class="text-stone-900 text-sm leading-relaxed" id="img-handlung">...</p>
                            </div>
                            <div>
                                <span class="text-xs uppercase tracking-wide text-stone-500 font-bold block mb-1">Umgebung</span>
                                <p class="text-stone-900 text-sm leading-relaxed" id="img-umgebung">...</p>
                            </div>
                            <div>
                                <span class="text-xs uppercase tracking-wide text-stone-500 font-bold block mb-1">Stil</span>
                                <p class="text-stone-900 text-sm leading-relaxed" id="img-stil">...</p>
                            </div>
                            <div>
                                <span class="text-xs uppercase tracking-wide text-stone-500 font-bold block mb-1">Beleuchtung</span>
                                <p class="text-stone-900 text-sm leading-relaxed" id="img-beleuchtung">...</p>
                            </div>
                            <div class="md:col-span-2">
                                <span class="text-xs uppercase tracking-wide text-stone-500 font-bold block mb-1">Details</span>
                                <p class="text-stone-900 text-sm leading-relaxed" id="img-details">...</p>
                            </div>
                        </div>
                        <div class="print-only">
                            <div class="theme-grid" id="img-grid"></div>
                        </div>
                    </div>
                </div>

                <div class="box-reflection">
                    <span class="label-reflection">üí¨ Reflektionsfragen (Gruppe)</span>
                    <ul class="list-disc list-inside text-sm text-stone-700 space-y-2">
                        <li>Was war die gr√∂√üte Herausforderung dabei, dein Business-Thema in eine visuelle Beschreibung zu √ºbersetzen?</li>
                        <li>Welches Element (z.B. Stil, Beleuchtung) hat das Ergebnis am st√§rksten beeinflusst?</li>
                        <li>F√ºr welche Art von Kommunikation bei Aequitas k√∂nntest du dir KI-Bilder vorstellen?</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- √úBUNG 7 -->
        <section id="ex7" class="scroll-mt-24 exercise-section">
            <div class="bg-white p-8 rounded-2xl border border-stone-200 shadow-sm flex flex-col relative overflow-hidden">
                <div class="absolute top-0 left-0 w-1.5 h-full bg-pink-500"></div>
                <h3 class="text-xl font-bold text-stone-800 flex items-center gap-2 mb-6">
                    <span class="step-badge">√úbung 7</span> System & Parameter
                </h3>

                <div class="box-task">
                    <span class="label-task">Ziel & Aufgabe</span>
                    <p class="text-stone-700 mb-2"><strong>Ziel:</strong> Verstehen, wie man das Verhalten der KI dauerhaft √§ndert (System Prompt) und wie man "Kreativit√§t" steuert.</p>
                    <p class="text-stone-700"><strong>Aufgabe:</strong> Entwickle einen System Prompt und w√§hle die passenden Parameter.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <div class="chart-container" style="height: 200px;">
                            <div id="gaugeChart"></div>
                        </div>
                        
                        <div class="box-prompt mt-4">
                            <div class="box-prompt-header">
                                <span class="label-prompt">‚öôÔ∏è System Prompt</span>
                                <div class="box-prompt-actions screen-only">
                                    <!-- OpenWebUI removed for System Prompt -->
                                    <button onclick="copyText('sys-prompt', this)" class="btn-copy">üìã Kopieren</button>
                                </div>
                            </div>
                            <div class="box-prompt-content" id="sys-prompt">...</div>
                        </div>

                        <div class="box-prompt mt-4">
                            <div class="box-prompt-header">
                                <div>
                                    <span class="label-prompt">üí° Prompt-Idee (System + Aufgabe)</span>
                                    <p class="text-xs text-stone-500">Thema: <span id="sys-idea-theme">Sales & Strategy</span></p>
                                </div>
                                <div class="box-prompt-actions screen-only">
                                    <button onclick="handlePromptAction('sysIdea','open',{includeMaterial:true})" class="btn-openwebui">üöÄ OpenWebUI</button>
                                    <button onclick="handlePromptAction('sysIdea','copy',{includeMaterial:true}, this)" class="btn-copy">üìã Kopieren</button>
                                </div>
                            </div>
                            <div class="box-prompt-content">
                                <div class="screen-only">
                                    <pre id="sys-idea-single" class="prompt-single">...</pre>
                                </div>
                                <div class="theme-grid print-only" id="sys-idea-grid"></div>
                            </div>
                        </div>
                    </div>
                    <div class="box-prompt">
                        <div class="box-prompt-header">
                            <span class="label-prompt">üéõÔ∏è Cheat Sheet: Parameter</span>
                        </div>
                        <div class="box-prompt-content">
                            <div class="overflow-x-auto">
                                <table class="w-full text-xs text-left text-stone-600 border border-stone-200 rounded-lg overflow-hidden">
                                    <thead class="bg-stone-100 text-stone-700 font-bold">
                                        <tr>
                                            <th class="p-2 border-b">Parameter</th>
                                            <th class="p-2 border-b">Wann hoch?</th>
                                            <th class="p-2 border-b">Wann niedrig?</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-b">
                                            <td class="p-2 font-bold">Temperature</td>
                                            <td class="p-2">Brainstorming, Story</td>
                                            <td class="p-2">Fakten, Code</td>
                                        </tr>
                                        <tr class="border-b">
                                            <td class="p-2 font-bold">Frequency Penalty</td>
                                            <td class="p-2">Essays, Vielfalt</td>
                                            <td class="p-2">Syntax, √úbersetzung</td>
                                        </tr>
                                        <tr class="border-b">
                                            <td class="p-2 font-bold">Top P</td>
                                            <td class="p-2">Breites Denken</td>
                                            <td class="p-2">Pr√§zise Antworten</td>
                                        </tr>
                                        <tr>
                                            <td class="p-2 font-bold">Reasoning Effort</td>
                                            <td class="p-2">Komplexe Logik</td>
                                            <td class="p-2">Einfache Fragen</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 print-only">
                    <h4 class="text-lg font-bold text-stone-700 mb-2">System Prompts pro Themenstrang</h4>
                    <p class="text-sm text-stone-500 mb-4">Nutze die Karten unten zum schnellen Kopieren oder Starten eines Chats ‚Äì ideal f√ºr Ausdruck und Dokumentation.</p>
                    <div class="theme-grid" id="sys-grid"></div>
                </div>

                <div class="box-reflection">
                    <span class="label-reflection">üí¨ Reflektionsfragen (Gruppe)</span>
                    <ul class="list-disc list-inside text-sm text-stone-700 space-y-2">
                        <li>Wie unterscheidet sich die Antwort bei Temperatur 0 gegen√ºber Temperatur 1+?</li>
                        <li>In welchen Szenarien (z.B. Coding vs. Brainstorming) w√§re ein fester System-Prompt hilfreich?</li>
                        <li>Warum ist hohe Temperatur ("Kreativit√§t") gef√§hrlich bei Fakten-Abfragen?</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- CHEAT SHEET -->
        <section id="cheatsheet" class="scroll-mt-24 pt-12 border-t-2 border-dashed border-stone-300">
            <div class="bg-white rounded-3xl shadow-xl border border-stone-200 overflow-hidden">
                <div class="bg-stone-800 px-8 py-6 text-white flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold">Prompt Engineering Cheat Sheet</h2>
                        <p class="text-stone-400 text-sm">Die komplette Referenz f√ºr den Workshop.</p>
                    </div>
                    <div class="text-4xl">üìñ</div>
                </div>
                <div class="p-8 grid grid-cols-1 md:grid-cols-2 gap-12">
                    
                    <!-- Col 1 -->
                    <div class="space-y-8">
                        <!-- Grundprinzipien -->
                        <div>
                            <h3 class="text-lg font-bold text-orange-600 border-b-2 border-orange-100 pb-2 mb-4">Grundprinzipien exzellenter Prompts</h3>
                            <ol class="list-decimal list-inside space-y-3 text-sm text-stone-700 font-bold">
                                <li>
                                    Seien Sie klar und spezifisch.
                                    <ul class="list-none pl-5 mt-1 text-stone-600 font-normal space-y-1">
                                        <li><span class="text-red-500 font-bold">‚úó</span> Schlecht: "Schreibe was √ºber unsere Netze."</li>
                                        <li><span class="text-green-600 font-bold">‚úì</span> Gut: "Erstelle eine Zusammenfassung der Herausforderungen bei der Instandhaltung unseres Stromnetzes f√ºr einen neuen Mitarbeiter im technischen Bereich."</li>
                                    </ul>
                                </li>
                                <li>
                                    Geben Sie Kontext.
                                    <p class="font-normal mt-1 text-stone-600 pl-5">Die KI kennt keine internen Details. F√ºttern Sie sie mit den n√∂tigen Hintergrundinformationen.</p>
                                </li>
                                <li>
                                    Definieren Sie die Zielgruppe.
                                    <p class="font-normal mt-1 text-stone-600 pl-5">F√ºr wen ist die Antwort bestimmt? (z.B. Management, Kunden, Techniker).</p>
                                </li>
                                <li>
                                    Fordern Sie ein Format an.
                                    <p class="font-normal mt-1 text-stone-600 pl-5">Sparen Sie sich Nacharbeit, indem Sie das gew√ºnschte Ergebnisformat (Stichpunkte, E-Mail etc.) direkt anfordern.</p>
                                </li>
                            </ol>
                        </div>

                        <!-- K.R.A.F.T. -->
                        <div>
                            <h3 class="text-lg font-bold text-orange-600 border-b-2 border-orange-100 pb-2 mb-4">Das K.R.A.F.T.-Framework</h3>
                            <p class="text-sm text-stone-600 mb-3">Nutzen Sie diese f√ºnf Bausteine als Checkliste f√ºr jeden wichtigen Prompt.</p>
                            <ul class="space-y-2 text-sm text-stone-700">
                                <li><strong class="text-stone-900">[K] Kontext:</strong> Wichtige Hintergrundinfos f√ºr die KI (z.B. Projektdetails).</li>
                                <li><strong class="text-stone-900">[R] Rolle:</strong> Wer soll die KI sein? (z.B. HR-Manager, IT-Experte).</li>
                                <li><strong class="text-stone-900">[A] Aufgabe:</strong> Was soll die KI genau tun? (z.B. analysieren, entwerfen).</li>
                                <li><strong class="text-stone-900">[F] Format:</strong> Wie soll die Ausgabe aussehen? (z.B. Stichpunkte, E-Mail).</li>
                                <li><strong class="text-stone-900">[T] Ton:</strong> In welchem Stil soll die KI schreiben? (z.B. formell, sachlich).</li>
                            </ul>
                        </div>

                        <!-- Dialog -->
                        <div>
                            <h3 class="text-lg font-bold text-orange-600 border-b-2 border-orange-100 pb-2 mb-4">Der Dialog: Prompten als Prozess</h3>
                            <p class="text-sm text-stone-600 mb-3">Ihr erster Prompt ist selten final. Die besten Ergebnisse entstehen durch schrittweise Verfeinerung.</p>
                            <ul class="list-disc list-inside space-y-2 text-sm text-stone-700">
                                <li><strong>Analysieren:</strong> Ist die Antwort gut? Was fehlt (Kontext, Klarheit)?</li>
                                <li><strong>Verfeinern:</strong> Passen Sie den urspr√ºnglichen Prompt an (Rolle, Format etc.).</li>
                                <li><strong>Nachfragen:</strong> Bitten Sie die KI im Dialog um Anpassungen.
                                    <ul class="list-none pl-5 mt-1 text-stone-600 italic">
                                        <li>"Das ist ein guter Anfang, aber formuliere den zweiten Absatz bitte einfacher."</li>
                                        <li>"Fasse deine Antwort nun in drei Kernaussagen f√ºr das Management zusammen."</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- Col 2 -->
                    <div class="space-y-8">
                         <!-- Techniken -->
                         <div>
                            <h3 class="text-lg font-bold text-orange-600 border-b-2 border-orange-100 pb-2 mb-4">Die vier wichtigsten Praxis-Techniken</h3>
                            <div class="space-y-6 text-sm">
                                <div>
                                    <strong class="text-stone-900 block text-base mb-1">1. Persona Prompting</strong>
                                    <p class="text-stone-600 mb-2">Weisen Sie der KI eine Rolle zu (z.B. Beruf, Pers√∂nlichkeit). Dies steuert Ton, Stil und Fokus der Antwort. Die KI nutzt dann das Wissen und die typische Ausdrucksweise dieser Rolle.</p>
                                    <div class="bg-stone-50 p-2 rounded border border-stone-200 text-xs">
                                        <strong>Anwendungsbeispiel:</strong> "Handle als Kommunikationsexperte der Stadtwerke G√ºstrow und formuliere eine Pressemitteilung zur Ank√ºndigung unserer neuen Solarkampagne."
                                    </div>
                                </div>
                                <div>
                                    <strong class="text-stone-900 block text-base mb-1">2. Wissen bereitstellen</strong>
                                    <p class="text-stone-600 mb-2">Geben Sie der KI einen Text (Bericht, E-Mail etc.) und weisen Sie sie an, ihre Antwort <em>nur</em> darauf zu st√ºtzen. Das verhindert "Halluzinationen" und die Nutzung von Allgemeinwissen.</p>
                                    <div class="bg-stone-50 p-2 rounded border border-stone-200 text-xs">
                                        <strong>Anwendungsbeispiel:</strong> "Basierend <em>ausschlie√ülich</em> auf dem folgenden Bericht: Fasse die identifizierten Kernrisiken f√ºr das Projekt 'Netzausbau 2026' in drei Stichpunkten zusammen. [Hier den Berichtstext einf√ºgen]"
                                    </div>
                                </div>
                                <div>
                                    <strong class="text-stone-900 block text-base mb-1">3. Chain-of-Thought / CoT</strong>
                                    <p class="text-stone-600 mb-2">Fordern Sie die KI bei komplexen Aufgaben auf, schrittweise vorzugehen (Gehe Schritt f√ºr Schritt vor...). Das f√ºhrt zu logischeren und besseren Ergebnissen, besonders bei Analysen oder Planungen.</p>
                                    <div class="bg-stone-50 p-2 rounded border border-stone-200 text-xs">
                                        <strong>Anwendungsbeispiel:</strong> "Analysiere die Ursachen f√ºr den gestiegenen Wasserverbrauch im Sektor Nord. Gehe dabei Schritt f√ºr Schritt vor: 1. Liste m√∂gliche technische Ursachen auf. 2. Gib eine Empfehlung f√ºr die n√§chsten Pr√ºfschritte."
                                    </div>
                                </div>
                                <div>
                                    <strong class="text-stone-900 block text-base mb-1">4. Few-Shot Prompting</strong>
                                    <p class="text-stone-600 mb-2">Geben Sie der KI 2-3 Beispiele f√ºr die gew√ºnschte Aufgabe und das exakte Format. Die KI erkennt das Muster und wendet es an. Ideal f√ºr wiederkehrende, formatkonsistente Aufgaben wie Datenextraktion.</p>
                                    <div class="bg-stone-50 p-2 rounded border border-stone-200 text-xs">
                                        <strong>Anwendungsbeispiel:</strong> "Kategorisiere Kunden-E-Mails. Beispiel: 'Ich m√∂chte meinen Abschlag √§ndern.' -> Abschlags√§nderung. 'Mein Z√§hlerstand ist 12345.' -> Z√§hlerstand. Kategorisiere nun: 'Wann wird meine Stra√üe an die Fernw√§rme angeschlossen?' ->"
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Parameter -->
                        <div>
                            <h3 class="text-lg font-bold text-orange-600 border-b-2 border-orange-100 pb-2 mb-4">Wichtige Parameter</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full text-xs text-left text-stone-600 border border-stone-200 rounded-lg">
                                    <thead class="bg-stone-100 text-stone-800 font-bold">
                                        <tr>
                                            <th class="p-2 border-b">Parameter / Funktion</th>
                                            <th class="p-2 border-b">Wann hoch?</th>
                                            <th class="p-2 border-b">Wann niedrig?</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-b">
                                            <td class="p-2">
                                                <strong class="block text-stone-900">Temperature</strong>
                                                Steuert Zufall & Kreativit√§t.
                                            </td>
                                            <td class="p-2">Brainstorming, Storytelling, Marketing.</td>
                                            <td class="p-2">Code, Faktenabfrage, Datenextraktion.</td>
                                        </tr>
                                        <tr class="border-b">
                                            <td class="p-2">
                                                <strong class="block text-stone-900">Top P</strong>
                                                Begrenzt Wortwahl auf die Besten.
                                            </td>
                                            <td class="p-2">(Alternative zu Temp) Breites Denken.</td>
                                            <td class="p-2">Pr√§zise, deterministische Antworten.</td>
                                        </tr>
                                        <tr class="border-b">
                                            <td class="p-2">
                                                <strong class="block text-stone-900">Frequency Penalty</strong>
                                                Bestraft Wortwiederholungen.
                                            </td>
                                            <td class="p-2">Schreiben von Essays, Mails, Blogs.</td>
                                            <td class="p-2">Code & Syntax, √úbersetzungen.</td>
                                        </tr>
                                        <tr>
                                            <td class="p-2">
                                                <strong class="block text-stone-900">Reasoning Effort</strong>
                                                Steuert "Denkzeit" vor Antwort.
                                            </td>
                                            <td class="p-2">Komplexe Logik, Mathe, Architektur-Planung.</td>
                                            <td class="p-2">Chat, einfache Fragen, Textzusammenfassung.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-12 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p>&copy; 2025 Aequitas. Interne Prompting Schulung.</p>
        </div>
    </footer>

    <!-- LOGIC -->
    <script>
        const DEFAULT_MODEL = 'azure-gpt-5.1';
        const DEFAULT_IMAGE_MODEL = 'google_gemini.gemini-2.5-flash-image-preview';

        function buildPromptPayload(themeKey, promptText, includeMaterial = false) {
            if (!promptText) return '';
            if (!includeMaterial) return promptText;
            const material = workshopData[themeKey]?.material || '';
            return `${material}\n\n${promptText}`;
        }

        function indicateCopy(button, label = '‚úÖ Kopiert') {
            if (!button) return;
            if (!button.dataset.originalLabel) {
                button.dataset.originalLabel = button.innerHTML;
            }
            button.innerHTML = label;
            button.classList.add('copied');
            setTimeout(() => {
                button.classList.remove('copied');
                button.innerHTML = button.dataset.originalLabel;
                button.disabled = false;
            }, 1800);
        }

        function copyToClipboard(text, button, label) {
            if (!text) return;
            const successLabel = label || '‚úÖ Kopiert';
            if (button) {
                if (!button.dataset.originalLabel) {
                    button.dataset.originalLabel = button.innerHTML;
                }
                button.disabled = true;
            }
            navigator.clipboard.writeText(text)
                .then(() => indicateCopy(button, successLabel))
                .catch(err => {
                    console.error('Kopieren fehlgeschlagen', err);
                    if (button) {
                        button.disabled = false;
                        button.classList.remove('copied');
                        if (button.dataset.originalLabel) {
                            button.innerHTML = button.dataset.originalLabel;
                        }
                    }
                });
        }

        function copyPromptText(themeKey, promptText, includeMaterial = false, button) {
            const payload = buildPromptPayload(themeKey, promptText, includeMaterial);
            if (!payload) return;
            copyToClipboard(payload, button);
        }

        function openPromptInWebUI(themeKey, promptText, modelName = DEFAULT_MODEL, includeMaterial = false) {
            const payload = buildPromptPayload(themeKey, promptText, includeMaterial);
            if (!payload) return;
            const url = `https://ki.aequitas-ag.de/?q=${encodeURIComponent(payload)}&model=${modelName}`;
            window.open(url, '_blank');
        }

        function createActionButtons({ onOpen, onCopy }) {
            if (!onOpen && !onCopy) return null;
            const wrap = document.createElement('div');
            wrap.className = 'theme-card-actions';
            if (onOpen) {
                const openBtn = document.createElement('button');
                openBtn.type = 'button';
                openBtn.className = 'btn-openwebui';
                openBtn.textContent = 'üöÄ Starten';
                openBtn.addEventListener('click', () => onOpen(openBtn));
                wrap.appendChild(openBtn);
            }
            if (onCopy) {
                const copyBtn = document.createElement('button');
                copyBtn.type = 'button';
                copyBtn.className = 'btn-copy';
                copyBtn.textContent = 'üìã Kopieren';
                copyBtn.addEventListener('click', () => onCopy(copyBtn));
                wrap.appendChild(copyBtn);
            }
            return wrap;
        }

        function renderPromptGrid(containerId, valueSelector, options = {}) {
            const container = document.getElementById(containerId);
            if (!container) return;
            container.innerHTML = '';
            Object.entries(workshopData).forEach(([themeKey, data]) => {
                const promptText = valueSelector(data);
                const card = document.createElement('article');
                card.className = 'theme-card';

                const header = document.createElement('div');
                header.className = 'theme-card-header';
                const badge = document.createElement('span');
                badge.className = 'theme-badge';
                badge.textContent = data.title;
                header.appendChild(badge);
                card.appendChild(header);

                const body = document.createElement('pre');
                body.textContent = promptText;
                card.appendChild(body);

                const actions = createActionButtons({
                    onOpen: options.disableOpen ? null : () => openPromptInWebUI(themeKey, promptText, options.modelName || DEFAULT_MODEL, options.includeMaterial),
                    onCopy: (btn) => copyPromptText(themeKey, promptText, options.includeMaterial, btn)
                });
                if (actions) card.appendChild(actions);

                container.appendChild(card);
            });
        }

        function handlePromptAction(promptKey, action, options = {}, button) {
            const themeKey = currentTheme;
            const promptText = workshopData[themeKey]?.[promptKey];
            if (!promptText) return;
            if (action === 'open') {
                openPromptInWebUI(themeKey, promptText, options.modelName || DEFAULT_MODEL, options.includeMaterial);
            } else if (action === 'copy') {
                copyPromptText(themeKey, promptText, options.includeMaterial, button);
            }
        }

        function buildKraftPrompt(themeKey) {
            const theme = workshopData[themeKey];
            const k = theme?.kraft;
            if (!theme || !k) return '';
            return `${theme.material}\n\n[K]ontext: ${k.k}\n[R]olle: ${k.r}\n[A]ufgabe: ${k.a}\n[F]ormat: ${k.f}\n[T]on: ${k.t}`;
        }

        function copyKraftPrompt(themeKey, button) {
            const payload = buildKraftPrompt(themeKey);
            if (!payload) return;
            copyToClipboard(payload, button);
        }

        function openKraftPrompt(themeKey, modelName = DEFAULT_MODEL) {
            const payload = buildKraftPrompt(themeKey);
            if (!payload) return;
            const url = `https://ki.aequitas-ag.de/?q=${encodeURIComponent(payload)}&model=${modelName}`;
            window.open(url, '_blank');
        }

        function renderKraftGrid(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            container.innerHTML = '';
            Object.entries(workshopData).forEach(([themeKey, data]) => {
                const card = document.createElement('article');
                card.className = 'theme-card';

                const header = document.createElement('div');
                header.className = 'theme-card-header';
                const badge = document.createElement('span');
                badge.className = 'theme-badge';
                badge.textContent = data.title;
                header.appendChild(badge);
                card.appendChild(header);

                const list = document.createElement('dl');
                list.className = 'text-sm text-stone-700 space-y-1';
                const entries = [
                    ['K', 'Kontext', data.kraft.k],
                    ['R', 'Rolle', data.kraft.r],
                    ['A', 'Aufgabe', data.kraft.a],
                    ['F', 'Format', data.kraft.f],
                    ['T', 'Ton', data.kraft.t]
                ];
                entries.forEach(([letter, label, value]) => {
                    const dt = document.createElement('dt');
                    dt.className = 'font-bold text-stone-600';
                    dt.textContent = `[${letter}] ${label}`;
                    const dd = document.createElement('dd');
                    dd.className = 'text-stone-800 mb-1';
                    dd.textContent = value;
                    list.appendChild(dt);
                    list.appendChild(dd);
                });
                card.appendChild(list);

                const actions = createActionButtons({
                    onOpen: () => openKraftPrompt(themeKey),
                    onCopy: (btn) => copyKraftPrompt(themeKey, btn)
                });
                if (actions) card.appendChild(actions);

                container.appendChild(card);
            });
        }

        function buildImagePrompt(themeKey) {
            const img = workshopData[themeKey]?.img;
            if (!img) return '';
            return `Erstelle ein Bild:\nZiel: ${img.ziel}\nHauptmotiv: ${img.motiv}\nHandlung: ${img.handlung}\nUmgebung: ${img.umgebung}\nStil: ${img.stil}\nBeleuchtung: ${img.beleuchtung}\nDetails: ${img.details}`;
        }

        function copyImagePrompt(themeKey, button) {
            const payload = buildImagePrompt(themeKey);
            if (!payload) return;
            copyToClipboard(payload, button);
        }

        function openImagePrompt(themeKey, modelName = DEFAULT_IMAGE_MODEL) {
            const payload = buildImagePrompt(themeKey);
            if (!payload) return;
            const url = `https://ki.aequitas-ag.de/?q=${encodeURIComponent(payload)}&model=${modelName}`;
            window.open(url, '_blank');
        }

        function renderImageGrid(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            container.innerHTML = '';
            Object.entries(workshopData).forEach(([themeKey, data]) => {
                const card = document.createElement('article');
                card.className = 'theme-card';

                const header = document.createElement('div');
                header.className = 'theme-card-header';
                const badge = document.createElement('span');
                badge.className = 'theme-badge';
                badge.textContent = data.title;
                header.appendChild(badge);
                card.appendChild(header);

                const fields = [
                    ['Ziel', data.img.ziel],
                    ['Hauptmotiv', data.img.motiv],
                    ['Handlung', data.img.handlung],
                    ['Umgebung', data.img.umgebung],
                    ['Stil', data.img.stil],
                    ['Beleuchtung', data.img.beleuchtung],
                    ['Details', data.img.details]
                ];
                fields.forEach(([label, value]) => {
                    const wrapper = document.createElement('div');
                    const title = document.createElement('span');
                    title.className = 'text-xs uppercase tracking-wide text-stone-500 font-bold block';
                    title.textContent = label;
                    const text = document.createElement('p');
                    text.className = 'text-stone-800 text-sm';
                    text.textContent = value;
                    wrapper.appendChild(title);
                    wrapper.appendChild(text);
                    card.appendChild(wrapper);
                });

                const actions = createActionButtons({
                    onOpen: () => openImagePrompt(themeKey),
                    onCopy: (btn) => copyImagePrompt(themeKey, btn)
                });
                if (actions) card.appendChild(actions);

                container.appendChild(card);
            });
        }

        function copySystemPrompt(themeKey, button) {
            const text = workshopData[themeKey]?.sys?.prompt;
            if (!text) return;
            copyToClipboard(text, button);
        }

        function renderSystemGrid(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            container.innerHTML = '';
            Object.entries(workshopData).forEach(([themeKey, data]) => {
                const card = document.createElement('article');
                card.className = 'theme-card';

                const header = document.createElement('div');
                header.className = 'theme-card-header';
                const badge = document.createElement('span');
                badge.className = 'theme-badge';
                badge.textContent = data.title;
                const temp = document.createElement('span');
                temp.className = 'text-xs font-semibold text-stone-500';
                temp.textContent = `Temperature: ${data.sys?.temp ?? '-'}`;
                header.appendChild(badge);
                header.appendChild(temp);
                card.appendChild(header);

                const body = document.createElement('pre');
                body.textContent = data.sys.prompt;
                card.appendChild(body);

                const actions = createActionButtons({
                    onOpen: null,
                    onCopy: (btn) => copySystemPrompt(themeKey, btn)
                });
                if (actions) card.appendChild(actions);

                container.appendChild(card);
            });
        }

        function renderScenarioPrintGrid() {
            const container = document.getElementById('scenario-print-grid');
            if (!container) return;
            container.innerHTML = '';
            Object.entries(workshopData).forEach(([themeKey, data]) => {
                const card = document.createElement('article');
                card.className = 'theme-card';

                const header = document.createElement('div');
                header.className = 'theme-card-header';
                const badge = document.createElement('span');
                badge.className = 'theme-badge';
                badge.textContent = data.title;
                header.appendChild(badge);
                card.appendChild(header);

                const desc = document.createElement('p');
                desc.className = 'text-sm text-stone-700';
                desc.textContent = data.desc;
                card.appendChild(desc);

                const material = document.createElement('pre');
                material.className = 'prompt-single';
                material.textContent = data.material;
                card.appendChild(material);

                container.appendChild(card);
            });
        }

        function renderAllThemeSections() {
            renderPromptGrid('prompt-zero-grid', data => data.zero, { includeMaterial: true });
            renderPromptGrid('prompt-few-grid', data => data.few, { includeMaterial: true });
            renderPromptGrid('prompt-persona-grid', data => data.persona, { includeMaterial: true });
            renderPromptGrid('cot-grid', data => data.cot, { includeMaterial: true });
            renderPromptGrid('iteration-grid', data => data.iteration, { includeMaterial: true });
            renderPromptGrid('grounding-grid', data => data.grounding, { includeMaterial: true });
            renderPromptGrid('sys-idea-grid', data => data.sysIdea, { includeMaterial: true });
            renderKraftGrid('kraft-grid');
            renderImageGrid('img-grid');
            renderSystemGrid('sys-grid');
            renderScenarioPrintGrid();
        }

        const workshopData = {
            sales: {
                title: "Sales & Strategy",
                desc: "Ein aggressiver Wettbewerber hat eine neue Dienstleistung angek√ºndigt, die euer Kerngesch√§ft bedroht. Du musst die strategischen Auswirkungen bewerten und Argumente vorbereiten.",
                material: `**Pressemitteilung von NextGen-Consulting:**\n"Frankfurt, 25.09.2025 ‚Äì NextGen-Consulting startet die 'SAP-Turbo-Initiative'. Ab sofort bieten wir S/4HANA-Migrationen zum garantierten Festpreis an, der 30% unter dem Marktdurchschnitt liegt. Durch den Einsatz unserer propriet√§ren 'Auto-Code-AI' reduzieren wir den manuellen Berateraufwand um die H√§lfte. Unser CEO sagt: 'Warum teure Stundenl√∂hne f√ºr Junior-Berater zahlen, wenn unsere KI den Code in Sekunden schreibt? Die Zeit der klassischen 'Body-Leasing'-Beratung ist vorbei.'"`,
                zero: "Fasse die Pressemitteilung zusammen. Ist das eine Gefahr f√ºr uns als Aequitas AG?",
                few: `Aufgabe: Bewerte Wettbewerber-News f√ºr das Account-Team.\n\nBeispiel 1\nInput: "Vendor Alpha k√ºndigt 'S/4 Fast Track' zum Fixpreis an. 20% g√ºnstiger, nur f√ºr Greenfield, kein Change-Management."\nOutput:\nLageeinsch√§tzung: Standardisierte Greenfield-Offerte, schwach bei komplexen Transformationsprojekten.\nRisiken:\n- Preisdruck bei Neukunden mit kleinem Scope.\n- Erwartungsmanagement bei CFOs, die Fixpreise lieben.\nGegenargumente:\n- Kein Support f√ºr Brownfield/Select-ive, damit irrelevant f√ºr unsere Bestandskunden.\n- Change-Management fehlt komplett, erh√∂ht Projektrisiko.\n\nInput Neu: [Pressemitteilung NextGen]\nOutput:`,
                persona: "Handle als erfahrener Vertriebsleiter im IT-Consulting. Analysiere die Pressemitteilung. Welche 3 Gegenargumente k√∂nnen wir nutzen?",
                cot: "Analysiere die Wettbewerber-Meldung Schritt f√ºr Schritt:\n1. Was ist das Versprechen?\n2. Wo ist der Haken (Qualit√§t, Individualit√§t)?\n3. Wie positionieren wir uns dagegen?",
                iteration: "Gut. Formuliere daraus nun einen 'Battle-Card'-Spickzettel f√ºr unsere Sales-Kollegen.",
                grounding: "Basierend *ausschlie√ülich* auf der Pressemitteilung: Welchen konkreten Preisvorteil verspricht NextGen?",
                kraft: { k: "Aggressiver Wettbewerber (NextGen) bietet Dumping-Preise.", r: "Vertriebsleiter IT-Consulting.", a: "Erstelle Battle Card.", f: "Vergleichstabelle.", t: "Selbstbewusst." },
                img: { 
                    ziel: "Den Unterschied zwischen billiger KI-Massenware und wertvoller Strategie visualisieren.",
                    motiv: "Eine antike Waagschale in futuristischer Umgebung.",
                    handlung: "Auf der linken Schale liegt ein riesiger Haufen grauer, identischer Metallw√ºrfel (die Standard-KI), die Schale h√§ngt tief. Auf der rechten Schale liegt ein einzelner, leuchtender, komplex geschliffener Diamant (die Strategie), der trotz seiner geringen Gr√∂√üe die Waage im Gleichgewicht h√§lt.",
                    umgebung: "Ein abstraktes, digitales 'Boardroom'-Szenario mit unscharfen Datenstr√∂men im Hintergrund.",
                    stil: "Hochwertiger, fotorealistischer 3D-Render, geeignet f√ºr eine Management-Pr√§sentation.",
                    beleuchtung: "K√ºhles, blaues Licht auf den W√ºrfeln. Warmes, goldenes Licht strahlt vom Diamanten aus.",
                    details: "Auf den grauen W√ºrfeln steht winzig '08/15'. Der Diamant reflektiert menschliche Gesichter."
                },
                sys: { prompt: "Du bist ein disruptiver Strategieberater. Du hasst Standardl√∂sungen.", temp: 1.1 },
                sysIdea: "Nutze das Material und liste in einer Tabelle drei Aussagen der Konkurrenz mit je einer Schwachstelle und unserem Gegenangriff. Fasse anschlie√üend in zwei S√§tzen zusammen, wie Sales das einsetzt."
            },
            recruiting: {
                title: "Recruiting & Ops",
                desc: "Der Beratermarkt ist leergefegt. Die Gesch√§ftsf√ºhrung will eine interne 'AI-Taskforce' gr√ºnden. Entwirf eine interne Stellenausschreibung.",
                material: `**Interne Notiz:**\n"Profil Lead AI-Taskforce (m/w/d) ‚Äì Internes Projekt: Wir brauchen jemanden aus den eigenen Reihen, der das Thema 'Generative AI' bei uns treibt.\nAufgaben: Identifikation von KI-Use-Cases, Tool-Auswahl, Schulung.\nAnforderungen: Muss Business verstehen, aber technisch fit sein. Lust, Prozesse neu zu denken."`,
                zero: "Schreibe eine Stellenausschreibung f√ºr den AI-Lead basierend auf der Notiz.",
                few: `Aufgabe: Schreibe eine interne Stellenausschreibung, die Senior Consultants anspricht.\n\nBeispiel 1\nInput: "Wir suchen jemanden, der die BI-Transformation treibt. Muss Finance verstehen, Data Governance aufsetzen, viel Stakeholder-Management."\nOutput:\nTitel: "Du baust unsere BI-Revolution"\nMission:\n- Priorisiere BI-Use-Cases mit CFO-Impact.\n- Setze Data-Governance-Richtlinien unternehmensweit durch.\nDein Profil:\n- Senior Consultant Finance oder Analytics mit Transformationsprojekten.\n- Stark in Storylining, aber bereit, selbst in Datenmodelle zu springen.\n- Moderierst Workshops souver√§n vom Werk bis zum Vorstand.\nImpact: Jetzt ist Window of Opportunity ‚Äì der Vorstand hat Budget freigegeben, wir brauchen deinen Drive.\n\nInput Neu: [Interne Notiz]\nOutput:`,
                persona: "Du bist Senior HR Business Partner. Formuliere die Stelle so, dass sie f√ºr einen erfahrenen Senior Consultant attraktiv klingt.",
                cot: "Erstelle die Stellenausschreibung Schritt f√ºr Schritt:\n1. Analysiere die Notiz: Was sind die Schmerzpunkte?\n2. Definiere Zielgruppe.\n3. Formuliere 3 Benefits.",
                iteration: "Der Entwurf klingt zu b√ºrokratisch. Wechsle auf 'Du' und nutze Consulting-Sprech wie 'Impact' oder 'Visibility'.",
                grounding: "Analysiere *ausschlie√ülich* die Notiz. Wird 'Python' als Anforderung genannt?",
                kraft: { k: "Suche internen AI-Lead.", r: "Senior HR Business Partner.", a: "Entwirf Direktansprache.", f: "Kurze Nachricht mit Bulletpoints.", t: "Inspirierend, pers√∂nlich." },
                img: { 
                    ziel: "Die Rolle als Br√ºckenbauer zwischen alter und neuer Welt zeigen.",
                    motiv: "Eine dynamische Person, die stabil auf einer Br√ºcke steht.",
                    handlung: "Die Person verbindet zwei Welten: Ihre linke Hand ber√ºhrt eine Welt aus massiven Zahnr√§dern und Papierakten (Tradition), ihre rechte Hand ber√ºhrt eine Welt aus flie√üenden, leuchtenden Hologrammen und Code (Innovation).",
                    umgebung: "Ein heller, offener Atrium-Bereich, der nahtlos in eine digitale Landschaft √ºbergeht.",
                    stil: "Moderner Illustrationsstil (Editorial Design), hell und optimistisch. Vektorgrafik mit Textur.",
                    beleuchtung: "Helles Tageslicht von oben, erg√§nzt durch das violette Leuchten der Datenseite.",
                    details: "Die Br√ºcke unter den F√º√üen beginnt sich zu transformieren ‚Äì von Stein zu Glasfaser."
                },
                sys: { prompt: "Du bist Chief People Officer. Dein Stil ist inklusiv und inspirierend.", temp: 0.8 },
                sysIdea: "Schreibe einen internen Post f√ºr das Intranet: Hook, Mission, drei Benefits, Call-to-Action. Sprich explizit Senior Consultants an, die Lust auf Ownership beim AI-Taskforce-Aufbau haben."
            },
            pm: {
                title: "PM & Eskalation",
                desc: "Kritischer Fehler kurz vor Go-Live. Erstelle einen Statusbericht und eine Deeskalations-Mail.",
                material: `**Incident-Report 'Phoenix':**\nStatus: ROT.\nEreignis: Timeouts beim Integrationstest.\nAnalyse: Middleware zusammengebrochen. Server am Limit. Custom-Code erzeugt Endlosschleifen.\nAuswirkung: Go-Live gef√§hrdet.\nEmpfehlung: Taskforce bilden.`,
                zero: "Fasse den Incident-Report zusammen und schreibe eine Mail an den Kunden.",
                few: `Aufgabe: Erstelle ein Krisen-Update f√ºr C-Level in drei Bausteinen.\n\nBeispiel 1\nInput: "Testumgebung seit 6h down wegen Storage-Ausfall. Release Go-Live in 3 Tagen."\nOutput:\nStatus: ROT ‚Äì Testsysteme nicht verf√ºgbar, Go-Live-Fenster schrumpft.\nFakten:\n- Storage-Controller defekt -> keine Deployments m√∂glich.\n- Regression-Tests stehen still, 24h R√ºckstand.\n- Anbieter liefert Ersatzteil erst morgen 08:00.\nMa√ünahmen:\n- Notfall-Hardware | Infra Team | 06.10. 07:00\n- Parallel Cloud-Umgebung aufsetzen | DevOps | 06.10. 12:00\n- Tests priorisieren (Top 20) | QA Lead | 06.10. 18:00\n\nInput Neu: [Incident Report]\nOutput:`,
                persona: "Du bist Krisenmanager. Formuliere die Mail an M√ºller AG. Sei transparent, aber vermeide Panik.",
                cot: "Plane die Kommunikation Schritt f√ºr Schritt:\n1. Welche Fakten m√ºssen genannt werden?\n2. Was lassen wir weg?\n3. Neuer Zeitplan?",
                iteration: "Der Ton ist zu defensiv. Formuliere selbstbewusster und l√∂sungsorientierter.",
                grounding: "Analysiere *nur* den Report: Welche zwei technischen Ursachen werden genannt?",
                kraft: { k: "Go-Live gef√§hrdet, technische Probleme.", r: "Senior Projektleiter.", a: "Erstelle Executive Summary.", f: "Tabelle: Problem, L√∂sung, ETA.", t: "Sachlich, Managerial." },
                img: { 
                    ziel: "Die Stabilisierung des kritischen Projekts 'Phoenix' visualisieren.",
                    motiv: "Ein gro√üer Server-Schrank, der abstrakt die Form eines mechanischen Ph√∂nix hat.",
                    handlung: "Der untere Teil des Servers gl√ºht rot und raucht (die Krise). Ein Team von kleinen Ingenieuren (die Taskforce) k√ºhlt die hei√üen Stellen. Der obere Teil breitet bereits gesund leuchtende, blaue Fl√ºgel aus.",
                    umgebung: "Ein stilisiertes Rechenzentrum, das sich von Chaos zu Ordnung wandelt.",
                    stil: "Isometrische 3D-Illustration, detailliert.",
                    beleuchtung: "Dramatischer Kontrast: Alarmierendes Rot unten, beruhigendes Tech-Blau oben.",
                    details: "Im Hintergrund ein Status-Monitor, dessen Kurve gerade wieder steil nach oben zeigt."
                },
                sys: { prompt: "Du bist milit√§rischer Strategie-Berater. Antworte extrem kurz und faktenbasiert.", temp: 0.3 },
                sysIdea: "Erstelle ein 3-Teil-Update f√ºr den Kunden (Faktenlage, Ma√ünahmen mit Owner/ETA, Erwartungsmanagement). Schliesse mit einer klaren Bitte an die M√ºller AG, wie sie unterst√ºtzen kann."
            },
            tech: {
                title: "SAP Dev & Basis",
                desc: "Ein Z-Report sorgt f√ºr Lastspitzen. Analysiere den Legacy Code und erkl√§re das Problem.",
                material: `**Code-Snippet (ABAP):**\nLOOP AT lt_sales_orders INTO ls_order.\n  SELECT SINGLE * FROM mara ...\n  IF sy-subrc = 0.\n    SELECT SINGLE * FROM makt ...\n  ENDIF.\nENDLOOP.\nKontext: 50.000 Eintr√§ge.`,
                zero: "Was ist an diesem ABAP-Code schlecht und wie mache ich ihn schneller?",
                few: `Aufgabe: Erstelle eine Performance-Review f√ºr ABAP-Code.\n\nBeispiel 1\nInput: "SELECT * FROM sflight WHERE carrid = lv_id, danach LOOP zur Aggregation."\nOutput:\nProblem: Vollst√§ndige Tabellen-Scans und unn√∂tige Spalten lesen die DB leer.\nWarum langsam?\n- SELECT * zieht 30+ Spalten, obwohl nur 4 Werte genutzt werden.\n- Keine Aggregation auf DB, daher hohe Netzwerk-Last.\nFix: SELECT carrid, connid, price FROM sflight WHERE carrid = @lv_id INTO TABLE @lt_flights; dann Aggregation via REDUCE.\n\nInput Neu: [Legacy Code]\nOutput:`,
                persona: "Du bist SAP Performance Experte. Erkl√§re einem nicht-technischen Kollegen das Problem.",
                cot: "Analysiere den Code Schritt f√ºr Schritt:\n1. Identifiziere DB-Zugriffe in Schleifen.\n2. Berechne theoretische Last.\n3. L√∂sungsvorschlag.",
                iteration: "Schreibe den optimierten Code mit Modern ABAP Syntax.",
                grounding: "Analysiere *ausschlie√ülich* das Snippet: Aus welchen Tabellen wird selektiert?",
                kraft: { k: "Performance-Problem durch Select in Loop.", r: "SAP Performance Experte.", a: "Erkl√§re Problem f√ºr Nicht-Techies.", f: "Metapher + Fakten.", t: "Bildhaft, kompetent." },
                img: { 
                    ziel: "Das Performance-Problem (Select in Loop) und die L√∂sung visuell greifbar machen.",
                    motiv: "Eine futuristische Daten-Autobahn mit zwei sehr unterschiedlichen Spuren.",
                    handlung: "Auf der linken Spur ('Loop-Spur') stehen tausende einzelne, kleine Lieferwagen im Stau und kommen nur einzeln durch eine Mautstelle. Auf der rechten Spur ('Bulk-Spur') rast ein einziger, riesiger Hochgeschwindigkeitszug an allen vorbei und transportiert die gleiche Menge Ladung in einem Bruchteil der Zeit.",
                    umgebung: "Eine Cyberpunk-Stadtlandschaft mit Datenstr√∂men als Stra√üen.",
                    stil: "D√ºsterer, aber neon-leuchtender 'Tron'-Look. Cinematic 3D Render.",
                    beleuchtung: "Viele rote Bremslichter auf der linken Seite, ein langer gr√ºner Lichtstreifen (Motion Blur) auf der rechten Seite.",
                    details: "Die Lieferwagen sind beschriftet mit 'SELECT SINGLE'. Der Zug tr√§gt das Logo 'HANA OPTIMIZED'."
                },
                sys: { prompt: "Du bist strikter Code-Compiler. Nur Code, kein Smalltalk.", temp: 0.2 },
                sysIdea: "Beschreibe zuerst mit einer Metapher, warum SELECT SINGLE im Loop wie Stau wirkt. Liefere danach Optimierungsschritte inkl. modernem ABAP-Codeblock, der die Zugriffe b√ºndelt."
            }
        };

        let currentTheme = 'sales';

        document.addEventListener('DOMContentLoaded', () => {
            setTheme('sales');
            renderAllThemeSections();
        });

        function setTheme(key) {
            currentTheme = key;
            const d = workshopData[key];
            
            // UI Active State
            document.querySelectorAll('[id^="btn-"]').forEach(b => {
                b.classList.remove('border-orange-500', 'bg-orange-50');
                b.classList.add('border-transparent', 'bg-white');
            });
            document.getElementById('btn-'+key).classList.add('border-orange-500', 'bg-orange-50');
            document.getElementById('btn-'+key).classList.remove('border-transparent', 'bg-white');

            // Fill Data
            document.getElementById('scenario-title').innerText = d.title;
            document.getElementById('scenario-desc').innerText = d.desc;
            document.getElementById('scenario-text').innerText = d.material;
            
            document.getElementById('prompt-zero-single').innerText = d.zero;
            document.getElementById('prompt-few-single').innerText = d.few;
            document.getElementById('prompt-persona-single').innerText = d.persona;
            document.getElementById('cot-single').innerText = d.cot;
            document.getElementById('iteration-single').innerText = d.iteration;
            document.getElementById('grounding-single').innerText = d.grounding;

            document.getElementById('prompt-zero-theme').innerText = d.title;
            document.getElementById('prompt-few-theme').innerText = d.title;
            document.getElementById('prompt-persona-theme').innerText = d.title;
            document.getElementById('cot-theme').innerText = d.title;
            document.getElementById('iteration-theme').innerText = d.title;
            document.getElementById('grounding-theme').innerText = d.title;
            
            document.getElementById('kraft-theme-label').innerText = d.title;
            document.getElementById('kraft-k').innerText = d.kraft.k;
            document.getElementById('kraft-r').innerText = d.kraft.r;
            document.getElementById('kraft-a').innerText = d.kraft.a;
            document.getElementById('kraft-f').innerText = d.kraft.f;
            document.getElementById('kraft-t').innerText = d.kraft.t;
            
            document.getElementById('img-ziel').innerText = d.img.ziel;
            document.getElementById('img-motiv').innerText = d.img.motiv;
            document.getElementById('img-handlung').innerText = d.img.handlung;
            document.getElementById('img-umgebung').innerText = d.img.umgebung;
            document.getElementById('img-stil').innerText = d.img.stil;
            document.getElementById('img-beleuchtung').innerText = d.img.beleuchtung;
            document.getElementById('img-details').innerText = d.img.details;
            
            document.getElementById('sys-prompt').innerText = d.sys.prompt;
            document.getElementById('sys-idea-single').innerText = d.sysIdea;
            document.getElementById('sys-idea-theme').innerText = d.title;
            updateGauge(d.sys.temp);
        }

        function copyText(id, button) {
            const el = document.getElementById(id);
            if (!el) return;
            copyToClipboard(el.innerText, button);
        }

        function updateGauge(val) {
            const data = [{
                type: "indicator",
                mode: "gauge+number",
                value: val,
                title: { text: "Temperature", font: { size: 12 } },
                gauge: {
                    axis: { range: [0, 2] },
                    bar: { color: "#ea580c" },
                    steps: [{ range: [0, 0.5], color: "#d6d3d1" }, { range: [0.5, 1.0], color: "#e7e5e4" }]
                }
            }];
            Plotly.newPlot('gaugeChart', data, { width: 300, height: 200, margin: { t: 25, r: 25, l: 25, b: 25 } }, {displayModeBar: false});
        }
    </script>
</body>
</html>
